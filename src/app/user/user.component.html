<section>
  <form class="form-horizontal" [formGroup]="userAddForm" (ngSubmit)="onSubmit()">

    <div class="form-group row user-form">
        <label class="control-label col-sm-3">
            First Name: 
      </label>
      <div class="col-sm-9"> 
          <input type="text" formControlName="firstName">
          <div *ngIf="submitted && userAddForm.controls.firstName.errors" class="error">
            <div *ngIf="userAddForm.controls.firstName.errors.required">First Name is required!!</div>
          </div>
      </div>
    </div>
    <div class="form-group row user-form">
        <label class="control-label col-sm-3">
            Last Name: 
      </label>
      <div class="col-sm-9"> 
          <input type="text" formControlName="lastName">
          <div *ngIf="submitted && userAddForm.controls.lastName.errors" class="error">
            <div *ngIf="userAddForm.controls.lastName.errors.required">Last Name is required!!</div>
          </div>
      </div>
    </div>
    
    <div class="form-group row user-form">
        <label class="control-label col-sm-3">
          Employee ID:
        </label>
        <div class="col-sm-9"> 
          <input type="text" formControlName="employeeId">
          <div *ngIf="submitted && userAddForm.controls.employeeId.errors" class="error">
            <div *ngIf="userAddForm.controls.employeeId.errors.required">Employee ID is required!!</div>
            <div *ngIf="userAddForm.controls.employeeId.errors.pattern">Please provide valid Employee ID!!</div>
          </div>
        </div>
    </div>
    <div class="cta-group"> 
          <input #formSubmit type="submit" value="Add" class="cta main-cta">
          <input type="reset" value="Reset" class="cta" (click)="_resetForm()">
    </div>
  </form>


  <div *ngIf="success" class="results">
    <strong>User Added Successfully!</strong>
  </div>

  <div class="search-bar">
    <div class="row">
      <div class="col-sm-4"> 
        <input type="text" placeholder="Search..." (keyup)="searchUsers($event)">
      </div>
      <div class="offset-sm-1 col-sm-1"> 
        <span class="italic">
          Sort:
        </span>
      </div>
      <div class="col-sm-6"> 
        <div class="row">
          <div class="col-md-4"> 
          <button class="cta" (click)="sort('firstName')">First Name</button>
          </div>
          <div class="col-sm-4 "> 
            <button class="cta" (click)="sort('lastName')">Last Name</button>
          </div>
          <div class="col-sm-4 "> 
            <button class="cta" (click)="sort('employeeId')">Id</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="list-group">
    <ul *ngIf="searchedUsers">
      <li class="list-group-item" *ngFor="let user of searchedUsers">
          <div class="list-item">
              <div class="font-bold">{{user.firstName}} {{user.lastName}}</div>
              <button class="cta" (click)="update(user)">Edit</button>
          </div>
          <div class="list-item">
              <div class="font-bold">{{user.employeeId}}</div>
              <button class="cta" (click)="delete(user)">Delete</button>
          </div>
      </li>
    </ul>
  </div>
</section>